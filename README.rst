Raspberry Pi GPIO Api
=====================

API to access Raspberry Pi GPIO based on Python, Flask & Rpi.GPIO library

API
---

+--------------------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Route                    | Request | Description                                                                                                                                                                                                                                       |
+==========================+=========+===================================================================================================================================================================================================================================================+
| `/api/gpio/`             | GET     | Returns a json object with the status of all pins                                                                                                                                                                                                 |
+--------------------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `/api/gpio/power/`       | GET     | Returns a json object with the power pins position and description (5V, 3V3, GND)                                                                                                                                                                 |
+--------------------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `/api/gpio/io/`          | GET     | Returns a json object with de description and status for a channel. If no channel is given, returns the status of all io pins.                                                                                                                    |
+--------------------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `/api/gpio/io/<CHANNEL>` | POST    | Sets up a particular channel. Receives a json object that must have the keys `type` and `value`. `type`  must be a string with either `input` or `output` and `value` must be a boolean, with the status to write to the channel of the request.  |
+--------------------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Sample response
---------------

.. code-block:: sh

    {
        "io": [
            {
                "pin": 3,
                "pin_function": "IO",
                "pin_state": 1
            },
           ...],

        "power_pins": [
            {
                "pin": 1,
                "pin_function": "3V3 Power"
            },
           ...]
    }


Run the API
-----------

In a python shell:

.. code-block:: python

    >>> import pi_gpio_api
    >>> pi_gpio_api.app.run('0.0.0.0')

This will block the shell and start listening requests on the given host.